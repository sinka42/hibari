;/*FB_PKG_DELIM*/

__d("IGDChatTabMessageNotificationUtils",["fbt","I64","LSBitFlag","LSIntEnum","MNXMAPreviewImageDecorationType","MessagingAttachmentType","ReQL","asyncToGeneratorRuntime","getLSMediaContactProfilePictureUrl","intlList"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u;function c(e,t){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var a=yield o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.tables.attachments).getKeyRange(n.threadKey,n.messageId));if(a!=null){var i=a.attachmentType,l=(e||(e=o("I64"))).equal(n.displayedContentTypes,(u||(u=o("LSIntEnum"))).ofNumber(4096))||a.stickerType!=null,s=a.hasMedia&&(e||(e=o("I64"))).equal(i,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))||(e||(e=o("I64"))).equal(i,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))||(e||(e=o("I64"))).equal(i,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE)),c=a.hasXma&&a.defaultCtaType!=="xma_web_url";if(l||s||c)return a.previewUrl}return null}),d.apply(this,arguments)}function m(e,t){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var a,i=yield o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.tables.attachments).getKeyRange(n.threadKey,n.messageId));if(i!=null){if((e||(e=o("I64"))).equal(n.displayedContentTypes,(u||(u=o("LSIntEnum"))).ofNumber(4096))||i.stickerType!=null)return s._(/*BTDS*/"Sent a sticker.");if(i.hasXma){var l,c=(l=i.headerTitle)!=null?l:"Instagram User",d=i.defaultCtaType,m=i.previewImageDecorationType;m!=null&&(e||(e=o("I64"))).equal(m,(u||(u=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").REEL))?a=s._(/*BTDS*/"Sent a reel by {author}",[s._param("author",c)]):d==="igd_web_post_share"?a=s._(/*BTDS*/"Sent a post by {author}",[s._param("author",c)]):d==="xma_montage_share"?a=o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(512),n.displayedContentTypes)?s._(/*BTDS*/"Replied to your story"):s._(/*BTDS*/"Sent a story by {author}",[s._param("author",c)]):(i.playableUrlMimeType==="image/gif"||i.playableUrlMimeType==="video/mp4")&&(a=s._(/*BTDS*/"Sent an attachment."))}else if(i.hasMedia){var p=i.attachmentType;(e||(e=o("I64"))).equal(p,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))?a=s._(/*BTDS*/"Sent a photo."):(e||(e=o("I64"))).equal(p,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))?a=s._(/*BTDS*/"Sent a video."):(e||(e=o("I64"))).equal(p,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO))?a=s._(/*BTDS*/"Sent a voice message."):(e||(e=o("I64"))).equal(p,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE))&&(a=s._(/*BTDS*/"Sent an attachment."))}}return a}),p.apply(this,arguments)}function _(t,n){return(e||(e=o("I64"))).to_float(t.muteExpireTimeMs)===-1||(e||(e=o("I64"))).to_float(t.muteExpireTimeMs)>n}function f(e,t,n,r,o,a){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r,a,i,l){var s,u=(s=a.reactionCreationTimestampMs)!=null?s:a.timestampMs;if((e||(e=o("I64"))).equal(a.actorId,n)||(e||(e=o("I64"))).to_float(u)<i||l!=null&&l.has((e||(e=o("I64"))).to_string(a.threadKey)))return!1;var c=yield t.tables.threads.get(a.threadKey);if(c==null)return!1;var d=_(c,i);return d?!1:r==null?(e||(e=o("I64"))).equal(u,c.lastActivityTimestampMs):!((e||(e=o("I64"))).equal(r.senderId,a.actorId)||!(e||(e=o("I64"))).equal(r.senderId,n))}),g.apply(this,arguments)}function h(e,t,n,r,o){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r,a,i){if(n.isAdminMessage||(e||(e=o("I64"))).equal(n.senderId,r)||(e||(e=o("I64"))).to_float(n.timestampMs)<a||i!=null&&i.has((e||(e=o("I64"))).to_string(n.threadKey)))return!1;var l=yield t.tables.threads.get(n.threadKey);return!(l!=null&&_(l,a))}),y.apply(this,arguments)}function C(t,n){var a=t.length,i=String(s._(/*BTDS*/"Instagram User")),l=t.filter(function(t){return!(e||(e=o("I64"))).equal(t[0].contactId,n)}).map(function(e){var t=e[0].nickname,n=e[1];if(t!=null)return t;var r;return(r=n==null?void 0:n.name)!=null?r:i});l.splice(0,0,"you");var u="";if(a!==0){if(a===1){var c,d=t[0],m=d[0],p=d[1];u=m.nickname!=null?m.nickname:(c=p==null?void 0:p.name)!=null?c:i}else if(a===2||a===3)u=r("intlList")(l,r("intlList").CONJUNCTIONS.AND,r("intlList").DELIMITERS.COMMA).toString();else{l.splice(2);var _=String(a-2).concat(" others");l.push(_),u=r("intlList")(l,r("intlList").CONJUNCTIONS.AND,r("intlList").DELIMITERS.COMMA).toString()}return s._(/*BTDS*/"To {subtitle}",[s._param("subtitle",u.replace("and","&"))])}}function b(e,t,n,r,o,a,i){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,a,i,l,s,u){var c=yield t.tables.contacts.get(a),d=yield t.tables.threads.get(n),m=c!=null?{mediaPreviewSrc:l,message:s,messageId:i,senderImageSrc:r("getLSMediaContactProfilePictureUrl")(c),senderName:c.name,thread:d,threadKey:(e||(e=o("I64"))).to_string(n),timestampMs:u}:{mediaPreviewSrc:l,message:s,messageId:i,thread:d,threadKey:(e||(e=o("I64"))).to_string(n),timestampMs:u};return m}),v.apply(this,arguments)}l.getMediaPreviewSrc=c,l.generateChatTabNotifPreviewTextForAttachment=m,l.shouldRenderChatTabReactionNotification=f,l.shouldRenderChatTabMessageNotification=h,l.generateChatTabNotifSubtitleTextForGroupMessage=C,l.generateChatTabsPreviewNotification=b}),226);
__d("IGDChatTabMessageNotification.react",["fbt","BaseImage.react","I64","IGDChatTabMessageNotificationUtils","IGDChatTabsEnv","IGDFallbackProfileUrl","IGDSAvatar.react","IGDSBox.react","IGDSTextVariants.react","IGDThreadListNewMessageLoggingDataContext","LSIntEnum","MWPActor.react","MessengerWebUXLogger","ReQL","ReQLSuspense","react","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=60,_="x1vd4nto-B",f={fadeIn:{animationDuration:"xs4xyr0",animationName:"x1rp1485",animationTimingFunction:"x4hg4is",$$css:!0},mediaPreview:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",objectFit:"xl1xv1r",$$css:!0},messageBox:{flexBasis:"x1t1x2f9",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0},root:{backgroundColor:"x7r02ix",borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",boxShadow:"x1wp8tw6",zIndex:"x1vjfegm",":hover_backgroundColor":"x2nact",$$css:!0}};function g(t){var n=t.previewData,a=n.mediaPreviewSrc,l=n.message,d=n.senderImageSrc,_=n.senderName,g=n.thread,h=n.threadKey,y=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),C=r("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"igd_chat_tabs_notification",flowInstanceId:y}),b=(e||(e=r("useReStore")))(),v=o("MWPActor.react").useActor(),S=o("ReQLSuspense").useArray(function(){return o("ReQL").leftJoin(o("ReQL").fromTableAscending(b.tables.participants,["contactId","nickname"]).getKeyRange((u||(u=o("I64"))).of_string(h)),o("ReQL").fromTableAscending(b.tables.contacts,["name"])).take(5)},[b,h],i.id+":98"),R=g!=null&&(u||(u=o("I64"))).equal(g.threadType,(c||(c=o("LSIntEnum"))).ofNumber(2))?g.threadName!=null?g.threadName:o("IGDChatTabMessageNotificationUtils").generateChatTabNotifSubtitleTextForGroupMessage(S,v):null;return m.jsx(r("IGDSBox.react"),{containerRef:C,children:m.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",height:o("IGDChatTabsEnv").NOTIFICATION_HEIGHT,overflow:"hidden",width:o("IGDChatTabsEnv").NOTIFICATION_WIDTH,xstyle:[f.root,f.fadeIn],children:[m.jsx(r("IGDSBox.react"),{margin:3,children:m.jsx(r("IGDSAvatar.react"),{alt:s._(/*BTDS*/"Instagram Avatar Profile Picture"),size:"large",src:d!=null?d:o("IGDFallbackProfileUrl").FALLBACK_PROFILE_PIC_URL})}),m.jsxs(r("IGDSBox.react"),{direction:"column",height:"100%",justifyContent:"center",marginEnd:3,overflow:"hidden",paddingY:3,xstyle:f.messageBox,children:[m.jsx(r("IGDSBox.react"),{children:m.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{maxLines:1,textAlign:"start",zeroMargin:!0,children:_!=null?_:s._(/*BTDS*/"Instagram User")})}),R!=null&&R!==""?m.jsx(r("IGDSBox.react"),{marginTop:1,width:"100%",children:m.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{maxLines:1,textAlign:"start",zeroMargin:!0,children:R})}):null,m.jsx(r("IGDSBox.react"),{marginTop:1,width:"100%",children:m.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",maxLines:R!=null?1:2,textAlign:"start",zeroMargin:!0,children:l!=null?l:s._(/*BTDS*/"Sent a message.")})})]}),a!=null&&m.jsx(r("IGDSBox.react"),{padding:4,children:m.jsx(r("BaseImage.react"),{height:p,src:a,width:p,xstyle:f.mediaPreview})})]})})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),226);
__d("IGDChatTabMessageNotificationsContainerV1Query.graphql",["IGDChatTabMessageNotificationsContainerV1Query_instagramRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"pref_type"}],t=[{kind:"Literal",name:"channel",value:"push"},{kind:"Variable",name:"pref_type",variableName:"pref_type"}],r={alias:null,args:null,kind:"ScalarField",name:"pref_value",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"IGDChatTabMessageNotificationsContainerV1Query",selections:[{alias:null,args:t,concreteType:"XFBFetchUserNotificationPreferenceV1Connection",kind:"LinkedField",name:"xfb_fetch_user_notification_preference_v1",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBITASUserNotificationPreference",kind:"LinkedField",name:"nodes",plural:!0,selections:[r],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"IGDChatTabMessageNotificationsContainerV1Query",selections:[{alias:null,args:t,concreteType:"XFBFetchUserNotificationPreferenceV1Connection",kind:"LinkedField",name:"xfb_fetch_user_notification_preference_v1",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBITASUserNotificationPreference",kind:"LinkedField",name:"nodes",plural:!0,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("IGDChatTabMessageNotificationsContainerV1Query_instagramRelayOperation"),metadata:{},name:"IGDChatTabMessageNotificationsContainerV1Query",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("IGDChatTabMessageNotificationsContainerV2Query.graphql",["IGDChatTabMessageNotificationsContainerV2Query_instagramRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"pref_type"}],t=[{kind:"Literal",name:"channel",value:"push"},{kind:"Variable",name:"pref_type",variableName:"pref_type"}],r={alias:null,args:null,kind:"ScalarField",name:"pref_value",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"IGDChatTabMessageNotificationsContainerV2Query",selections:[{alias:null,args:t,concreteType:"XFBFetchUserNotificationPreferenceConnection",kind:"LinkedField",name:"xfb_fetch_user_notification_preference",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBITASUserNotificationPreferenceV2",kind:"LinkedField",name:"nodes",plural:!0,selections:[r],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"IGDChatTabMessageNotificationsContainerV2Query",selections:[{alias:null,args:t,concreteType:"XFBFetchUserNotificationPreferenceConnection",kind:"LinkedField",name:"xfb_fetch_user_notification_preference",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBITASUserNotificationPreferenceV2",kind:"LinkedField",name:"nodes",plural:!0,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("IGDChatTabMessageNotificationsContainerV2Query_instagramRelayOperation"),metadata:{},name:"IGDChatTabMessageNotificationsContainerV2Query",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("useAddToNotificationQueue",["I64","IGDChatTabsStateContext.react","bx","qex","react","requireDeferred","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback,c=r("requireDeferred")("Sound").__setRef("useAddToNotificationQueue"),d=5e3,m=r("bx").getURL(r("bx")("32259")),p=r("bx").getURL(r("bx")("32260")),_=r("qex")._("4558")===!0;function f(){var e=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch();return u(function(t,n){e==null||e({notification:t,type:"push_notification"}),r("setTimeout")(function(){e==null||e({messageId:t.messageId,type:"clear_notification"})},d),_&&n&&g(t)},[e])}function g(e){return c.onReady(function(t){t.play([p,m],(s||(s=o("I64"))).to_float(e.timestampMs),!1)})}l.default=f}),98);
__d("useSubscribeToMessages",["I64","IGDChatTabMessageNotificationUtils","IGDChatTabsStateContext.react","LSIntEnum","MWPActor.react","ReQL","asyncToGeneratorRuntime","react","useAddToNotificationQueue","useServerTime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useCallback;function d(){var e=o("MWPActor.react").useActor(),t=r("useServerTime")(),a=o("IGDChatTabsStateContext.react").useIGDChatTabsState(),i=r("useAddToNotificationQueue")();return c(function(r,l){var c=o("ReQL").fromTableDescending(r.tables.messages.index("timestampMs")).subscribe((function(){var c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n,c){if(c.operation==="add"){var d=c.value,m=yield o("IGDChatTabMessageNotificationUtils").shouldRenderChatTabMessageNotification(r,d,e,t.valueOf(),a==null?void 0:a.openedTabs);if(m){var p=(s||(s=o("I64"))).equal(d.displayedContentTypes,(u||(u=o("LSIntEnum"))).ofNumber(1)),_=p?d.text:yield o("IGDChatTabMessageNotificationUtils").generateChatTabNotifPreviewTextForAttachment(r,d),f=p?null:yield o("IGDChatTabMessageNotificationUtils").getMediaPreviewSrc(r,d),g=yield o("IGDChatTabMessageNotificationUtils").generateChatTabsPreviewNotification(r,d.threadKey,d.senderId,d.messageId,f,_,d.timestampMs);i(g,l)}}});return function(e,t){return c.apply(this,arguments)}})());return c},[e,i,t,a==null?void 0:a.openedTabs])}l.default=d}),98);
__d("useSubscribeToReactions",["fbt","IGDChatTabMessageNotificationUtils","IGDChatTabsStateContext.react","MWPActor.react","ReQL","asyncToGeneratorRuntime","react","useAddToNotificationQueue","useServerTime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("react"))).useCallback,c=function(t){return s._(/*BTDS*/"Reacted {emoji} to your message",[s._param("emoji",t)])},d=function(){return s._(/*BTDS*/"Liked your message")};function m(){var e=o("MWPActor.react").useActor(),t=r("useServerTime")(),a=o("IGDChatTabsStateContext.react").useIGDChatTabsState(),i=r("useAddToNotificationQueue")();return u(function(r,l){var s=o("ReQL").fromTableDescending(r.tables.reactions.index("fk_messages")).subscribe((function(){var s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n,s){if(s.operation==="add"){var u=s.value,m=yield r.tables.messages.index("messageId").get(u.messageId),p=yield o("IGDChatTabMessageNotificationUtils").shouldRenderChatTabReactionNotification(r,e,m,u,t.valueOf(),a==null?void 0:a.openedTabs);if(p){var _=u.reaction==="\u2764"?d():c(u.reaction),f=yield o("IGDChatTabMessageNotificationUtils").generateChatTabsPreviewNotification(r,u.threadKey,u.actorId,u.messageId,null,_,u.timestampMs);i(f,l)}}});return function(e,t){return s.apply(this,arguments)}})());return s},[e,i,t,a==null?void 0:a.openedTabs])}l.default=m}),226);
__d("useSubscribeToNotifications",["promiseDone","react","useAsyncReStore","useSubscribeToMessages","useSubscribeToReactions"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=r("useAsyncReStore")(),n=r("useSubscribeToMessages")(),o=r("useSubscribeToReactions")();s(function(){var o=t.then(function(t){return n(t,e)});return function(){r("promiseDone")(o.then(function(e){e()}))}},[t,n,e]),s(function(){var n=t.then(function(t){return o(t,e)});return function(){r("promiseDone")(n.then(function(e){e()}))}},[t,o,e])}l.default=u}),98);
__d("IGDChatTabMessageNotificationsContainer.react",["CometPressable.react","CometRelay","IGDChatTabMessageNotification.react","IGDChatTabMessageNotificationsContainerV1Query.graphql","IGDChatTabMessageNotificationsContainerV2Query.graphql","IGDChatTabSingleContainerStyles","IGDChatTabsEnv","IGDChatTabsJewelStyles","IGDChatTabsQPLInstanceKeyContext.react","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","IGDSBox.react","IGDSThemeConstantsHelpers","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","QuickPerformanceLogger","Random","loadIGDChatTabEntryPoint","qex","qpl","react","useCometRelayEntrypointContextualEnvironmentProvider","useIGDOpenChatTab.react","usePolarisIsSmallScreen","useSubscribeToNotifications"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c.useCallback,p={chatTabsClosedRoot:{bottom:"xrsf3xo",$$css:!0},chatTabsOpenRoot:{bottom:"xqxrpsi",$$css:!0},mobileNavRoot:{marginBottom:"xp13qc",$$css:!0},pressableContainer:{borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",$$css:!0},root:{insetInlineEnd:"x145d82y",left:null,right:null,position:"xixxii4",rowGap:"x3pnbk8",zIndex:"x1vjfegm",$$css:!0}},_=3,f=o("IGDSThemeConstantsHelpers").getNumericValue("revamp-nav-bottom-toolbar-height"),g=1,h=e!==void 0?e:e=n("IGDChatTabMessageNotificationsContainerV1Query.graphql"),y=s!==void 0?s:s=n("IGDChatTabMessageNotificationsContainerV2Query.graphql");function C(e){var t,n,a,i,l=e.queries.messageNotifsQueryRef,s=r("qex")._("273"),c=o("CometRelay").usePreloadedQuery(s===!0?y:h,l),C=s===!0?(t=c.xfb_fetch_user_notification_preference)==null?void 0:t.nodes[0]:(n=c.xfb_fetch_user_notification_preference_v1)==null?void 0:n.nodes[0],b=(C==null?void 0:C.pref_value)!==g,v=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),S=o("IGDChatTabsStateContext.react").useIGDChatTabsState(),R=r("usePolarisIsSmallScreen")(),L=S==null?void 0:S.notifications,E=(S==null?void 0:S.activeView)!=null;r("useSubscribeToNotifications")(b);var k=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),I=o("IGDChatTabsQPLInstanceKeyContext.react").useIGDChatTabsQPLInstanceKeyContext(),T=r("MessengerWebUXLogger").useInteractionLogger(),D=E?o("IGDChatTabsStateTypes").IGDChatTabsMessagingInitiationSource.NotificationWithTabOpen:o("IGDChatTabsStateTypes").IGDChatTabsMessagingInitiationSource.NotificationWithJewel,x=r("useIGDOpenChatTab.react")(),$=m(function(e){x(e.threadKey,D),v==null||v({messageId:e.messageId,type:"clear_notification"}),T==null||T({eventName:"igd_chat_tabs_notification_clicked",flowInstanceId:k});var t=I.threadViewKeys[e.threadKey]==null,n=o("Random").uint32();I.setThreadViewKey(e.threadKey,n),(u||(u=r("QuickPerformanceLogger"))).markerStart(r("qpl")._(882771792,"2790"),n),u.markerAnnotate(r("qpl")._(882771792,"2790"),{bool:{isFirstLoad:t},string:{trigger:"notification"}},{instanceKey:n})},[v,k,D,T,x,I]),P=(a=(i=document.documentElement)==null?void 0:i.clientHeight)!=null?a:0,N=(E?o("IGDChatTabsEnv").CHAT_TAB_HEIGHT+o("IGDChatTabSingleContainerStyles").CHAT_TAB_CONTAINER_MARGIN:o("IGDChatTabsJewelStyles").JEWEL_SIZE+o("IGDChatTabsJewelStyles").JEWEL_MARGIN)+(R?f:0),M=Math.min(Math.floor((P-N)/(o("IGDChatTabsEnv").NOTIFICATION_HEIGHT+o("IGDChatTabsEnv").NOTIFICATION_ROW_GAP)),_),w=r("useCometRelayEntrypointContextualEnvironmentProvider")(),A=m(function(e){r("loadIGDChatTabEntryPoint")(w,e)},[w]);return r("qex")._("4558")===!0&&(C==null?void 0:C.pref_value)===g||L==null||L.size===0||M===0?null:d.jsx(r("IGDSBox.react"),{direction:"columnReverse",xstyle:[p.root,R&&p.mobileNavRoot,E?p.chatTabsOpenRoot:p.chatTabsClosedRoot],children:Array.from(L.values()).slice(-M).map(function(e,t){return d.jsx(r("CometPressable.react"),{expanding:!0,onHoverIn:function(){return A(e.threadKey)},onPress:function(){$(e)},role:"button",xstyle:p.pressableContainer,children:d.jsx(r("IGDChatTabMessageNotification.react"),{previewData:e})},t)})})}C.displayName=C.name+" [from "+i.id+"]",l.default=C}),98);
__d("mapObjectKeysAndValues",[],(function(t,n,r,o,a,i){"use strict";var e=Object.prototype.hasOwnProperty;function l(t,n,r,o){var a={};for(var i in t){var l=i;if(e.call(t,l)){var s=n.call(o,t[l],l,t),u=r.call(o,t[l],l,t);a[s]=u}}return a}i.default=l}),66);